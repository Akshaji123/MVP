{
  "database": {
    "name": "HiringReferrals Database",
    "type": "MongoDB",
    "version": "6.0+",
    "connection": {
      "url": "mongodb://localhost:27017",
      "database_name": "test_database",
      "options": {
        "maxPoolSize": 10,
        "minPoolSize": 1,
        "retryWrites": true
      }
    }
  },
  "collections": {
    "users": {
      "description": "User accounts (admin, company, recruiter, candidate)",
      "indexes": ["email", "id", "role"],
      "schema": {
        "id": "string (UUID)",
        "email": "string (unique)",
        "full_name": "string",
        "role": "string (admin|company|recruiter|candidate)",
        "password": "string (bcrypt hashed)",
        "currency_preference": "string (INR|USD)",
        "created_at": "datetime"
      }
    },
    "jobs": {
      "description": "Job postings by companies",
      "indexes": ["id", "company_id", "status"],
      "schema": {
        "id": "string (UUID)",
        "title": "string",
        "description": "string",
        "requirements": "array[string]",
        "location": "string",
        "salary_range": "string",
        "experience_level": "string",
        "employment_type": "string",
        "company_id": "string (FK to users)",
        "company_name": "string",
        "status": "string (active|closed)",
        "created_at": "datetime"
      }
    },
    "applications": {
      "description": "Job applications by candidates",
      "indexes": ["id", "job_id", "candidate_id"],
      "schema": {
        "id": "string (UUID)",
        "job_id": "string (FK to jobs)",
        "job_title": "string",
        "candidate_id": "string (FK to users)",
        "candidate_name": "string",
        "resume_id": "string (FK to resumes)",
        "match_score": "integer (0-100)",
        "score_details": "object",
        "status": "string (pending|reviewing|shortlisted|rejected|hired)",
        "created_at": "datetime"
      }
    },
    "resumes": {
      "description": "Parsed resumes with AI analysis",
      "indexes": ["id", "candidate_id"],
      "schema": {
        "id": "string (UUID)",
        "candidate_id": "string (FK to users)",
        "file_name": "string",
        "parsed_data": "object (AI extracted data)",
        "overall_score": "integer",
        "skills": "array[string]",
        "experience_years": "integer",
        "education": "array[string]",
        "created_at": "datetime"
      }
    },
    "referrals": {
      "description": "Candidate referrals by recruiters/employees",
      "indexes": ["id", "referrer_id", "job_id"],
      "schema": {
        "id": "string (UUID)",
        "job_id": "string (FK to jobs)",
        "job_title": "string",
        "referrer_id": "string (FK to users)",
        "referrer_name": "string",
        "candidate_email": "string",
        "candidate_name": "string",
        "candidate_phone": "string (optional)",
        "status": "string (pending|applied|hired|rejected)",
        "reward_amount": "integer",
        "created_at": "datetime"
      }
    },
    "documents": {
      "description": "Uploaded documents (resumes, certificates, etc.)",
      "indexes": ["id", "uploaded_by", "category"],
      "schema": {
        "id": "string (UUID)",
        "name": "string",
        "file_path": "string",
        "file_type": "string",
        "file_size": "integer",
        "uploaded_by": "string (FK to users)",
        "uploaded_at": "datetime",
        "category": "string",
        "related_to": "string",
        "status": "string"
      }
    },
    "bgv_requests": {
      "description": "Background verification requests",
      "indexes": ["id", "candidate_id", "status"],
      "schema": {
        "id": "string (UUID)",
        "candidate_id": "string (FK to users)",
        "candidate_name": "string",
        "application_id": "string (FK to applications)",
        "requested_by": "string (FK to users)",
        "requested_at": "datetime",
        "status": "string (pending|in_progress|completed)",
        "verification_types": "array[string]",
        "checks_completed": "array[string]",
        "checks_pending": "array[string]",
        "completed_at": "datetime (optional)",
        "verified_by": "string (optional)"
      }
    },
    "candidate_tracking": {
      "description": "91-day post-hire tracking",
      "indexes": ["id", "candidate_id", "company_id"],
      "schema": {
        "id": "string (UUID)",
        "candidate_id": "string (FK to users)",
        "application_id": "string (FK to applications)",
        "job_id": "string (FK to jobs)",
        "company_id": "string (FK to users)",
        "join_date": "date",
        "tracking_start_date": "date",
        "tracking_end_date": "date",
        "current_day": "integer",
        "status": "string (tracking|completed|terminated)",
        "milestones": "array[object]",
        "feedback_records": "array[object]",
        "invoice_eligible": "boolean",
        "invoice_generated": "boolean"
      }
    },
    "invoices": {
      "description": "Generated invoices",
      "indexes": ["id", "company_id", "invoice_number"],
      "schema": {
        "id": "string (UUID)",
        "invoice_number": "string",
        "company_id": "string (FK to users)",
        "company_name": "string",
        "candidate_tracking_id": "string (FK to candidate_tracking)",
        "amount": "float",
        "tax_amount": "float",
        "total_amount": "float",
        "currency": "string (INR|USD)",
        "issue_date": "date",
        "due_date": "date",
        "status": "string (draft|sent|paid)",
        "pdf_path": "string (optional)"
      }
    },
    "gamification_achievements": {
      "description": "Achievement definitions",
      "indexes": ["id", "type"],
      "schema": {
        "id": "string",
        "name": "string",
        "description": "string",
        "type": "string (referral|network|mentor|placement|profile|streak|milestone)",
        "points": "integer",
        "tier": "integer (1-5)",
        "icon": "string",
        "renewable": "boolean (optional)"
      }
    },
    "gamification_tiers": {
      "description": "Reward tier definitions",
      "indexes": ["id"],
      "schema": {
        "id": "string (tier1-tier5)",
        "name": "string (Bronze|Silver|Gold|Platinum|Diamond)",
        "point_threshold": "integer",
        "rewards": "array[{id, name, type}]"
      }
    },
    "gamification_levels": {
      "description": "User level definitions with commission rates",
      "indexes": ["id"],
      "schema": {
        "id": "string (level1-level5)",
        "name": "string",
        "min_referrals": "integer",
        "commission_rate": "float (0.05-0.15)",
        "color": "string (hex)",
        "icon": "string"
      }
    },
    "user_gamification": {
      "description": "User's gamification progress",
      "indexes": ["user_id"],
      "schema": {
        "user_id": "string (FK to users)",
        "total_points": "integer",
        "current_tier": "string (FK to gamification_tiers)",
        "current_level": "string (FK to gamification_levels)",
        "created_at": "datetime"
      }
    },
    "user_achievements": {
      "description": "User's earned achievements",
      "indexes": ["user_id", "achievement_id"],
      "schema": {
        "user_id": "string (FK to users)",
        "achievement_id": "string (FK to gamification_achievements)",
        "achieved_at": "datetime",
        "points": "integer"
      }
    },
    "user_streaks": {
      "description": "User's activity streaks",
      "indexes": ["user_id"],
      "schema": {
        "user_id": "string (FK to users)",
        "current_streak": "integer",
        "max_streak": "integer",
        "last_active_date": "date",
        "streak_freeze_available": "boolean"
      }
    },
    "platform_settings": {
      "description": "Platform configuration settings",
      "indexes": ["key"],
      "schema": {
        "key": "string (unique)",
        "value": "any",
        "updated_at": "datetime",
        "updated_by": "string (FK to users)"
      }
    },
    "user_sessions": {
      "description": "OAuth user sessions",
      "indexes": ["user_id", "session_token"],
      "schema": {
        "user_id": "string (FK to users)",
        "session_token": "string",
        "expires_at": "datetime",
        "created_at": "datetime"
      }
    },
    "user_profiles": {
      "description": "Extended user profile information",
      "indexes": ["user_id"],
      "schema": {
        "user_id": "string (FK to users)",
        "first_name": "string",
        "last_name": "string",
        "phone": "string",
        "address": "object {street, city, state, country, pincode}",
        "date_of_birth": "string",
        "bio": "string",
        "skills": "array[string]",
        "linkedin_url": "string",
        "portfolio_url": "string",
        "expected_salary": "float",
        "notice_period_days": "integer",
        "willing_to_relocate": "boolean",
        "preferred_locations": "array[string]",
        "profile_completion": "integer (0-100)",
        "created_at": "datetime",
        "updated_at": "datetime"
      }
    },
    "interview_schedules": {
      "description": "Interview scheduling and feedback",
      "indexes": ["id", "application_id", "candidate_id"],
      "schema": {
        "id": "string (UUID)",
        "application_id": "string (FK to applications)",
        "candidate_id": "string (FK to users)",
        "job_id": "string (FK to jobs)",
        "interview_type": "string (phone|video|onsite|technical|hr|panel)",
        "scheduled_by": "string (FK to users)",
        "scheduled_at": "datetime",
        "duration_minutes": "integer",
        "location": "string",
        "meeting_link": "string",
        "interviewers": "array[string]",
        "status": "string (scheduled|completed|cancelled|rescheduled)",
        "feedback": "object {rating, scores, comments, recommendation}",
        "created_at": "datetime"
      }
    },
    "application_status_logs": {
      "description": "Application status change audit trail",
      "indexes": ["application_id", "timestamp"],
      "schema": {
        "id": "string (UUID)",
        "application_id": "string (FK to applications)",
        "old_status": "string",
        "new_status": "string",
        "changed_by": "string (FK to users)",
        "reason": "string",
        "notes": "string",
        "timestamp": "datetime"
      }
    },
    "job_views": {
      "description": "Job view analytics tracking",
      "indexes": ["job_id", "viewed_at"],
      "schema": {
        "id": "string (UUID)",
        "job_id": "string (FK to jobs)",
        "viewer_id": "string (FK to users, optional)",
        "viewer_ip": "string",
        "source": "string (direct|search|referral|email)",
        "viewed_at": "datetime"
      }
    },
    "audit_logs": {
      "description": "System-wide audit logging",
      "indexes": ["user_id", "action", "timestamp"],
      "schema": {
        "id": "string (UUID)",
        "user_id": "string (FK to users)",
        "action": "string (login|logout|create|update|delete|etc)",
        "resource_type": "string",
        "resource_id": "string",
        "old_value": "object",
        "new_value": "object",
        "ip_address": "string",
        "user_agent": "string",
        "success": "boolean",
        "timestamp": "datetime"
      }
    },
    "notifications": {
      "description": "User notifications",
      "indexes": ["user_id", "read", "created_at"],
      "schema": {
        "id": "string (UUID)",
        "user_id": "string (FK to users)",
        "title": "string",
        "message": "string",
        "type": "string (info|success|warning|error)",
        "read": "boolean",
        "action_url": "string (optional)",
        "created_at": "datetime",
        "read_at": "datetime (optional)"
      }
    },
    "payments": {
      "description": "Commission payments tracking",
      "indexes": ["id", "recruiter_id", "status"],
      "schema": {
        "id": "string (UUID)",
        "application_id": "string (FK to applications)",
        "recruiter_id": "string (FK to users)",
        "annual_package": "float",
        "base_commission_rate": "float",
        "tier_multiplier": "float",
        "gross_commission": "float",
        "tds_amount": "float",
        "platform_fee": "float",
        "net_commission": "float",
        "currency": "string (INR|USD)",
        "status": "string (pending|processing|completed|failed)",
        "transaction_id": "string",
        "initiated_at": "datetime",
        "processed_at": "datetime"
      }
    }
  },
  "export_location": "/app/database_export/",
  "backup_location": "/app/database_backups/"
}
